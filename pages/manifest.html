<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MJG - mod.json</title>
    <link rel="shortcut icon" href="../assets/icon.png" type="image/x-icon">
</head>

<body>
    <a href="../index.html">Back</a><br>
    <span>Name </span><input type="text" id="name"><br>
    <span>Description </span><input type="text" id="description" value="Made with MJG"><br>
    <span>Display Name </span><input type="text" id="display-name"><br>
    <span>Author </span><input type="text" id="author" value="MJG"><br>
    <span>Version </span><input type="text" id="version" value="1.0.0"><br>
    <span>Min. Engine Version </span><input type="number" id="mev" value="146"><br>
    <button type="submit" id="generate">Generate</button><br><br>
    <a href="" style="display: none;" id="download">Download</a>
</body>

<script>
    const data = {
        name: document.getElementById('name'),
        description: document.getElementById('description'),
        display_name: document.getElementById('display-name'),
        author: document.getElementById('author'),
        version: document.getElementById('version'),
        mev: document.getElementById('mev'),
    };

    document.getElementById('generate').addEventListener('click', () => {
        const result = {
            type: data.type.options[0].text,
            name: data.name.value,
            displayName: data.display_name.value,
            description: data.description.value,
            author: data.author.value,
            version: data.version.value,
            minEngineVersion: data.mev.value
        };
        const jsonString = JSON.stringify(result);
        let blob = new Blob([jsonString], {
            type: "application/json"
        });
        document.getElementById('download').style.display = 'inline';
        document.getElementById('download').setAttribute('href', URL.createObjectURL(blob));
        document.getElementById('download').setAttribute('download', `${data.name.value}.json`);
    });
</script>

</html>